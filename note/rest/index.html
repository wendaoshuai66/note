<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<script>
        // function C1(name){
        //     if(name) this.name =name
        // }
        // function C2(name){
        //     this.name = name
        // }
        // function C3(name){
        //     this.name = name || 'fe';
        // }
        // C1.prototype.name = 'yindeng';
        // C2.prototype.name = 'lao';
        // C3.prototype.name = 'yuan';
        // console.log(new C1().name)
        // console.log(new C2().name)
        // console.log(new C3().name)



        // function test(m){
        //     m={v:5}
        // }
        // var m = {k:30}
        // test(m)
        // alert(m.v)
        // function yindeng(){
        //     console.log(1)
        // }
        // (function (){ 
        //     if(false){
        //         function yindeng(){
        //             console.log(3)
        //         }
        //     }
        //     yindeng()
        // })()
        // var g = 'a';
        // function dosomething(){
        //     var i = 'b'
        //     gA = 'a'
        // }
        // dosomething()
        // console.log(g)
        // console.log(gA)
        // console.log(i)
        // if(false){
        //     function u(){
        //         console.log(11)
        //     }
        // }
        // console.log(u())
        // function Car(color,price){
        //     this.color = color
        //     this.price = price 
        // }
        // Car.prototype.sell = function(){
        //     return '车颜色：'+this.color +'车价格是：'+this.price
        // }
        // function inherts(parent,obj){
        //     var __pro = Object.create(parent.prototype)
        //     __pro.construct = obj
        //     obj.prototype = __pro
        // }
        // function Curze (color,price){
        //     Car.call(this,color,price)
        // }

        // inherts(Car,Curze)


        // var curze=new Curze('红色',13000)
        // console.log(curze)



        // var length = 10;
        // function fn(){
        //     console.log(this.length)
        // }


        // var yideng = {
        //     length:5,
        //     method:function(fn){
        //         // fn();
        //         console.log(arguments[0])
        //         arguments[0]()
        //     }
        // }


        // yideng.method(fn,1)
        
        // var test=6;
        // console.log(test)
        // function test(){
        //     console.log('111')
        // }


        // var p=function test(){
        //     //只能在函数内部访问
        //     test =1;
        //     console.log(typeof test)//function
        // }
        // p()
        // console.log(test)//报错 ，函数表达式外部不能访问test，只能在函数内部访问



        // var o={
        //     foo:function(){
        //         console.log(11)
        //     },
        //     bar(){
        //         console.log(22)
        //     }
        // }
        // var p1=o.foo.bind({});
        // new p1();
        // var p2=o.bar.bind({}) ;
        // new p2();

        // if(!Function.prototype.bind ){
        //     Function.prototype.bind = function(oThis){
        //     if(typeof this !=='function'){
        //         throw new TypeError('请使用函数绑定')
        //     }
        //     var oArg = Array.prototype.slice.call(arguments,1),
        //         fTobind =this,
        //         FNOP =function(){

        //         },
        //         ftbound = function(){
        //             fTobind.apply(this instanceof FNOP && oThis ?this :oThis, oArg.concat.call(Array.prototype.slice.call(arguments,1)));
                
        //         }
        //         if(this.prototype){
        //             FNOP.prototype = this.prototype
        //             ftbound.prototype = new FNOP();
        //         }
        //         return ftbound;
        // }
        // }


        // function test(){
        //     console.log(this.a)
        // }
        // var obj ={
        //     a:5
        // }
        // var result = test.bind(obj)
        // result()


        // function test(a,b){
        //     console.log(a)
        //     console.log(b)
        //     var aArg = Array.prototype.slice.call(arguments)
        //     var aArg1 = Array.prototype.slice.call(arguments,1)
        //     console.log(aArg)
        //     console.log(aArg1)
        // }
        // test(1,2,3)

        // function C1(name){
        //     //构造函数不存在
        //     if(name) this.name = name
        // }
        // function C2(name){
        //     this.name = name
        // }
        // function C2(name){
        //     this.name = name || 'fei'
        // }
        // C1.prototype.name = 'one'
        // C2.prototype.name = 'two'
        // C3.prototype.name = 'three'
        // console.log((new C1().name)+(new C2().name)+(new C3().name))//one undefined fei

        // function test(m){
        //      m = {v:1}
        // }
        // var m = {a:1}
        // console.log(m.v)
        // var length =10;
        // function test(){
        //     console.log(this.length)
        // }
        // var obj = {
        //     length:5,
        //     method:function(){
        //         test()
        //         arguments[0]()
        //     }
        // }
        // obj.method(test,2)
        // (function(){
        //     if(false){
        //         function a(){
        //             consoloe.log(2)
        //         }
        //     }
        //     a()
        // })()
        // (function (){
           
        // })()
        // function foo(str) {
        //      "use strict";
        //     eval( str );
        //     console.log( a ); // ReferenceError: a is not defined
        // }
        // foo( "var a = 2" );

        // var nums = {
        // "first": 7,
        // "second": 14,
        // "third": 13
        // }
        // console.log(Object.keys(nums))
        // console.log(Object.entries(nums))

        // var result=["1", "2", "3"].map(parseInt);
        // console.log(result)//[1,NaN,NaN]
        //  惯性思维是[1,2,3]

        //map参数
        //1.callback
        //   回调函数有三个参数：
        //             currentValue
        //               callback 数组中正在处理的当前元素。
        //              index可选
        //                 callback 数组中正在处理的当前元素的索引。
        //               array可选
        //                 callback  map 方法被调用的数组。
        //2.thisArg 执行 callback 函数时使用的this 值。

        // 通常使用parseInt时,只需要传递一个参数.
        // 但实际上,parseInt可以有两个参数.第二个参数是进制数.
        // 可以通过语句"alert(parseInt.length)===2"来验证.
        //解决方法


    //    if(!Array.prototype.map){
    //     Array.prototype.map=function(callback,oThis){
    //         var A //创建一个新数组
    //         ,T  //是每个个回调函数执行 callback 函数时使用的this 值
    //         ,k;
    //         //首先判断
    //         if(this===null){
    //             throw new TypeError('this is null or undefined')
    //         }
    //         var o = Object(this);
    //         var len = o.length;
    //         if(Object.prototype.toString.call(callback) != "[object Function]"){
    //             throw new TypeError(callback+ '  is not function')
    //         }

    //         A = new Array(len);
    //         //如果有oThis是oThis，没有T为undefined
    //         if(oThis){
    //             T = oThis
    //         }

    //         k= 0;
    //         while(k<len){
    //             var kValue,deepValue;
    //             if(k in o){
    //                 kValue = o[k]
    //                 deepValue = callback.call(T,kValue,k,o)
    //                 A[k] = deepValue
    //             }
    //             k++
    //         }
    //         return A;
    //     }
    //    }
    //     console.log(["1", "2", "3"].map(val=>parseInt(val)))
    //     var result=["1", "2", "3"]
        // result.map()
        // function returnInt(ele){
        //     return parseInt(ele,10)
        // }
        // console.log(["1", "2", "3"].map(returnInt))
        // console.log(["1", "2", "3"].map(val=>parseInt(val)))
        // console.log(["1", "2", "3"].map(Number))


    //偏应用函数，带一个函数参数和该函数的部分参数
    // const partial =(fn,...args)=>(...moreArgs) => fn(...args, ...moreArgs)
    // const add =(a,b,c)=>(a+b+c)
    // const partialPlus=partial(add,1,3)
    // const partialPlus1=partialPlus(1)
    // console.log(partialPlus1)

        // var toUpperCase =(word)=>word.toUpperCase()
        // var split1 = x=> str=>str.split(x)
        // const cpmpose = (f,g)=> x=>f(g(x))
        // var f=cpmpose(split1(','),toUpperCase)
        // console.log(f('a,b,c'))

        // function fn(){
        //     console.log(this.length)
        // }
        // var a = {
        //     length:5,
        //     method:function(){
        //         "use strict"
        //         fn();
        //         arguments[0]()
        //     }
        // }
        // const result = a.method.bind(null)
        // result(fn,1)

        // function a(a,b,c){
        //     console.log(this.length)
        // }

        // function fn(d){
        //     arguments[0](1,2,3,4,5)
        // }
        // fn(a,1,2,3)

        // function math(fn,array){
        //     return fn(array[0],array[1])
        // }

        // var add = function(a,b){
        //     return a+b
        // }
        // console.log(math(add,[1,2]))

        // Object.prototype.a = 'a'
        // Function.prototype.a = 'a1'
        // function Person(){}
        // var yideng = new Person()

        // console.log(Person.a)
        // console.log(yideng.a)
        // console.log(1..a)
        // // console.log(1.a)
        //斐波那契数列
        // function factorial(n){
        //     if(n===1) return 1
        //     return n*factorial(n-1)
        // }
        // console.log(factorial(1000000))
       
        //执行过程如下

        // 5*factorial(4)
        //  4*factorial(3)
        //   3*factorial(2)
        //    2*factorial(1)
        //    2*1
        //   3*2
        //  4*6
        // 5**24
        // console.log(factorial(1000000))
        //ES6强制使用尾递归
        // function sum(n){
        //     if(n===1) return 1
        //     return n+sum(n-1)
        // }
        // console.log(sum(5))
       // 执行过程如下
    //    sum(5)
    //     (5 + sum(4))
    //     (5 + (4 + sum(3)))
    //     (5 + (4 + (3 + sum(2))))
    //     (5 + (4 + (3 + (2 + sum(1))))) (5 + (4 + (3 + (2 + 1))))
    //     (5 + (4 + (3 + 3)))
    //     (5 + (4 + 6))
    //     (5 + 10)
    //     15

    // function sum(x, total) {
    //     if (x === 1) {
    //         return x + total; 
    //     }
    //     return sum(x - 1, x + total);
    // }

        // sum(5, 0) 
        //  sum(4, 5)
        //  sum(3, 9) 
        //  sum(2, 12) 
        //  sum(1, 14) 
        //  15
        // function fn(n,total){
        //     if(n===1) return total
        //     return fn(n-1,total*n)
        // }
        // fn(100)
        //特定的容器
        // function Container(x){
        //     this._val = x
        // }
        // Container.of = x=>new Container(x)
        // Container.prototype.map=function(f){
        //     return  Container.of(f(this._val))
        // }
        // console.log(Container.of(3).map(x=>x+1))

         </script>
</body>
</html>